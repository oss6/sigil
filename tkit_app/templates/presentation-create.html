<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=1024, user-scalable=no">

    <title>Tkit - Strumento di presentazione</title>

    <!-- Required stylesheet -->
    <link rel="stylesheet" media="screen" href="/static/css/deck.core.css">

    <!-- Extension CSS files go here. Remove or add as needed. -->
    <link rel="stylesheet" media="screen" href="/static/css/deck.navigation.css">
    <link rel="stylesheet" media="screen" href="/static/css/deck.status.css">

    <!-- Style theme. More available in /themes/style/ or create your own. -->
    <link rel="stylesheet" media="screen" href="/static/css/web-2.0.css">

    <!-- Transition theme. More available in /themes/transition/ or create your own. -->
    <link rel="stylesheet" media="screen" href="/static/css/horizontal-slide.css">

    <!-- Required Modernizr file -->
    <script src="/static/js/modernizr.custom.js"></script>
</head>
<body>
    <div id="menu-trigger"></div>
    <div id="menu">
        <h4>Menu degli strumenti</h4>
        <button class="btn btn-success" id="new-slide">Nuova diapositiva</button>
        <button class="btn btn-success" id="delete-current-slide">Elimina diapositiva</button>
        <form action="." method="post">{% csrf_token %}
            <input type="text" id="html-file-name" placeholder="Nome file">
            <input type="text" id="pres-title" placeholder="Titolo presentazione">
            <input type="text" id="pres-desc" placeholder="Descrizione presentazione">
            <button id="save-pres">Salva</button>
        </form>
    </div>

    <div class="deck-container">

        <!-- Begin slides. Just make elements with a class of slide. -->

        <section class="slide">
            <h1>Slide</h1>
        </section>

        <section class="slide">
            <h1>Content</h1>
        </section>

        <section class="slide">
            <h1>Here</h1>
        </section>

        <!-- End slides. -->

        <!-- Begin extension snippets. Add or remove as needed. -->

        <!-- deck.navigation snippet -->
        <div aria-role="navigation">
            <a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
            <a href="#" class="deck-next-link" title="Next">&#8594;</a>
        </div>

        <!-- deck.status snippet -->
        <p class="deck-status" aria-role="status">
            <span class="deck-status-current"></span>
            /
            <span class="deck-status-total"></span>
        </p>

        <!-- End extension snippets. -->
    </div>

    <!-- Required JS files. -->
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/deck.core.js"></script>

    <!-- Extension JS files. Add or remove as needed. -->
    <script src="/static/js/deck.status.js"></script>
    <script src="/static/js/deck.navigation.js"></script>

    <!-- Initialize the deck. You can put this in an external file if desired. -->
    <script>
      $(function() {
        var menu_toggle = false;

        $.deck('.slide');

        $("#menu-trigger").click(function() {
            if (!menu_toggle) {
                $("#menu").css("right", 0);
                $(this).css("right", 200);
            }
            else {
                $("#menu").css("right", -210);
                $(this).css("right", 0);
            }

            menu_toggle = !menu_toggle;
        });

        $("#new-slide").click(function() {
            var n =$(".slide").length - 1;
            $('<section id="slide-' + (n + 1) + '" class="slide deck-after"></section>').insertAfter("#slide-" + n);
            $.deck('.slide');
        });

        $("#delete-current-slide").click(function() {

        });

        $("#save-pres").click(function() {
            utils.postData("/presentation/save/", {
                csrfmiddlewaretoken: document.getElementsByName('csrfmiddlewaretoken')[0].value,
                html_data: $(".deck-container")[0].html(),
                file_name: $("#html-file-name").val(),
                title: $("#pres-title").val(),
                description: $("#pres-desc").val()
            }, "/presentation/");
        });
      });
    </script>
</body>
</html>